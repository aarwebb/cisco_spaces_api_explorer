<!DOCTYPE html>
<html>
<head>
  <title>Spaces API Explorer</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="spaces-explorer-body">
  <div class="spaces-explorer-header">
    <h1>Spaces API Explorer</h1>
    <div class="subtitle">Powered by Cisco Spaces Platform</div>
    <div class="spaces-explorer-logo">API</div>
  </div>
  
    
  <div class="spaces-explorer-main">
    <!-- Tab Navigation -->
    <div class="spaces-tab-navigation">
      <button class="spaces-tab-button active" data-tab="api-explorer-tab">
        API Explorer
        <div class="tooltip-container">
          <span class="help-icon">?</span>
          <div class="tooltip">Test API endpoints in real-time. Enter any endpoint, execute calls, and mark JSON response values for data extraction.</div>
        </div>
      </button>
      <button class="spaces-tab-button" data-tab="recorded-apis-tab">
        Recorded APIs
        <div class="tooltip-container">
          <span class="help-icon">?</span>
          <div class="tooltip">View all API calls captured during recording sessions. Replay requests, analyze responses, and extract marked data from recorded calls.</div>
        </div>
      </button>
    </div>
    
    <!-- Explorer Tab Content -->
    <div id="api-explorer-tab" class="spaces-tab-content active">
      <div class="spaces-content-inner">
        <!-- API Explorer controls outside of section -->
        <div class="spaces-domain-info">
          <span class="spaces-domain-label">Current Domain:</span>
          <span id="current-domain" class="spaces-domain-value">https://dnaspaces.io</span>
        </div>
        
        <div class="spaces-form-row">
          <label for="api-endpoint">Endpoint:</label>
          <input type="text" id="api-endpoint" placeholder="Enter API endpoint..." />
        </div>
        
        <div class="spaces-form-row">
          <button id="run-api-call" class="spaces-btn spaces-btn-primary">Run API Call</button>
        </div>
        
        <div class="spaces-output-section">
          <h2 class="spaces-section-title">
            API Response
            <div class="tooltip-container">
              <span class="help-icon">?</span>
              <div class="tooltip">Double-click any line in the JSON response to mark that path for extraction. Marked paths appear in the "Marked Paths" section below for copying.</div>
            </div>
          </h2>
          <div id="api-output" class="spaces-output"></div>
        </div>
        
        <!-- Marked Paths Display Section -->
        <div id="marked-paths-section" class="spaces-output-section" style="display: none;">
          <h2 class="spaces-section-title">Marked Paths</h2>
          <div class="marked-paths-controls">
            <button id="copy-marked-paths" class="spaces-btn spaces-btn-info spaces-btn-small">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 9V6.2002C9 5.08009 9 4.51962 9.21799 4.0918C9.40973 3.71547 9.71547 3.40973 10.0918 3.21799C10.5196 3 11.0801 3 12.2002 3H17.8002C18.9203 3 19.4801 3 19.9079 3.21799C20.2842 3.40973 20.5905 3.71547 20.7822 4.0918C21.0002 4.51962 21.0002 5.07967 21.0002 6.19978V11.7998C21.0002 12.9199 21.0002 13.48 20.7822 13.9078C20.5905 14.2841 20.2839 14.5905 19.9076 14.7822C19.4802 15 18.921 15 17.8031 15H15M9 9H6.2002C5.08009 9 4.51962 9 4.0918 9.21799C3.71547 9.40973 3.40973 9.71547 3.21799 10.0918C3 10.5196 3 11.0801 3 12.2002V17.8002C3 18.9203 3 19.4801 3.21799 19.9079C3.40973 20.2842 3.71547 20.5905 4.0918 20.7822C4.5192 21 5.07899 21 6.19691 21H11.8036C12.9215 21 13.4805 21 13.9079 20.7822C14.2842 20.5905 14.5905 20.2839 14.7822 19.9076C15 19.4802 15 18.921 15 17.8031V15M9 9H11.8002C12.9203 9 13.4801 9 13.9079 9.21799C14.2842 9.40973 14.5905 9.71547 14.7822 10.0918C15 10.5192 15 11.079 15 12.1969L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Copy All Paths
            </button>
            <button id="copy-marked-values" class="spaces-btn spaces-btn-info spaces-btn-small">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 9V6.2002C9 5.08009 9 4.51962 9.21799 4.0918C9.40973 3.71547 9.71547 3.40973 10.0918 3.21799C10.5196 3 11.0801 3 12.2002 3H17.8002C18.9203 3 19.4801 3 19.9079 3.21799C20.2842 3.40973 20.5905 3.71547 20.7822 4.0918C21.0002 4.51962 21.0002 5.07967 21.0002 6.19978V11.7998C21.0002 12.9199 21.0002 13.48 20.7822 13.9078C20.5905 14.2841 20.2839 14.5905 19.9076 14.7822C19.4802 15 18.921 15 17.8031 15H15M9 9H6.2002C5.08009 9 4.51962 9 4.0918 9.21799C3.71547 9.40973 3.40973 9.71547 3.21799 10.0918C3 10.5196 3 11.0801 3 12.2002V17.8002C3 18.9203 3 19.4801 3.21799 19.9079C3.40973 20.2842 3.71547 20.5905 4.0918 20.7822C4.5192 21 5.07899 21 6.19691 21H11.8036C12.9215 21 13.4805 21 13.9079 20.7822C14.2842 20.5905 14.5905 20.2839 14.7822 19.9076C15 19.4802 15 18.921 15 17.8031V15M9 9H11.8002C12.9203 9 13.4801 9 13.9079 9.21799C14.2842 9.40973 14.5905 9.71547 14.7822 10.0918C15 10.5192 15 11.079 15 12.1969L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Copy Values Only
            </button>
          </div>
          <div id="marked-paths-display" class="marked-paths-display"></div>
        </div>
      </div>
    </div>
    
    <!-- Recorded APIs Tab Content -->
    <div id="recorded-apis-tab" class="spaces-tab-content">
      <div class="spaces-content-inner">
        <!-- Metadata at the top outside of sections -->
        <div id="recorded-apis-metadata"></div>
        
        <div class="spaces-output-section">
                    <h2 class="spaces-section-title">
            Recorded API Calls by Page
            <div class="tooltip-container">
              <span class="help-icon">?</span>
              <div class="tooltip">Shows all recorded API calls grouped by webpage. Use the API Call Tracker popup toggle to start recording. Double-click any JSON line to mark paths for extraction.</div>
            </div>
          </h2>
          <div id="recorded-apis-output"></div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Modal System -->
  <div id="modal-overlay" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <svg class="modal-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.884-.833-2.654 0L4.16 16.5c-.77.833.192 2.5 1.732 2.5z"/>
        </svg>
        <h3 id="modal-title" class="modal-title">Confirm Action</h3>
      </div>
      <p id="modal-message" class="modal-message">Are you sure you want to proceed?</p>
      <div class="modal-actions">
        <button id="modal-cancel" class="modal-btn modal-btn-cancel">Cancel</button>
        <button id="modal-confirm" class="modal-btn modal-btn-danger">Delete</button>
      </div>
    </div>
  </div>
  
  <!-- Toast Container -->
  <div id="toast-container" class="toast-container"></div>
  
  <script src="spacesAPIexplorer.js"></script>
</body>
</html>
